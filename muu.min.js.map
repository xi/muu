{"version":3,"file":"muu.min.js","sources":["../bower_components/mustache/mustache.min.js","js-helpers.js","dom-helpers.js","evmgr.js","updateDOM.js","directive.js","muu.js"],"names":["global","factory","exports","nodeName","define","amd","Mustache","this","mustache","isFunction","object","typeStr","obj","isArray","escapeRegExp","string","replace","hasProperty","propName","testRegExp","re","regExpTest","call","isWhitespace","nonSpaceRe","escapeHtml","String","s","entityMap","parseTemplate","template","tags","stripSpace","hasTag","nonSpace","spaces","length","tokens","pop","compileTags","tagsToCompile","split","spaceRe","Error","openingTagRe","RegExp","closingTagRe","closingCurlyRe","sections","start","type","value","chr","token","openSection","scanner","Scanner","eos","pos","scanUntil","i","valueLength","charAt","push","scan","tagRe","whiteRe","equalsRe","curlyRe","nestTokens","squashTokens","lastToken","squashedTokens","numTokens","section","nestedTokens","collector","tail","Context","view","parentContext","cache",".","parent","Writer","objectToString","Object","prototype","toString","Array","test","&","<",">","\"","'","/","match","index","substring","search","lookup","name","hasOwnProperty","names","context","lookupHit","indexOf","clearCache","parse","render","partials","renderTokens","originalTemplate","symbol","buffer","undefined","renderSection","renderInverted","renderPartial","unescapedValue","escapedValue","rawValue","subRender","self","j","slice","escape","version","defaultWriter","TypeError","to_html","send","result","_","once","fn","called","apply","arguments","array","forEach","map","results","filter","union","arrays","difference","a","b","ready","_fn","document","readyState","addEventListener","window","getRadio","options","checked","setRadio","handlers","nextID","getNextID","on","eventName","handler","id","off","trigger","arg","updateAttributes","target","source","targetAttrNames","attributes","item","sourceAttrNames","hasAttribute","removeAttribute","setAttribute","getAttribute","updateDOM","nt","childNodes","ns","nodeType","muuClasses","classList","cls","startsWith","add","nodeValue","contains","removeChild","appendChild","parentNode","replaceChild","$","EvMgr","root","registry","evmgr","eventCallback","event","attrName","update","data","tmp","createElement","innerHTML","eventType","selector","querySelectorAll","element","linkAll","hits","isolations","isolated","isolation","querySelector","all","getModel","_default","model","setModel","callback","Directive","config","directives","registerDirective","link","registerModule","module","directive","children","debug","elements"],"mappings":"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B,SAAAA,EACAwM,KAAAA,GAEA1G,GAGAA,EAAA2G,eAAA,SAAAC,GAEA,MADAA,GAAA5G,GACAA,GAGAA,EAAA0G,KAAA,SAAAjB,EAAAnK,GAKA,GAJA,SAAAA,IACAA,EAAAmK,EAAAjC,aAAA,UAGAgD,EAAA7H,eAAArD,GACA,KAAA,IAAAP,OAAA,2BAAAO,EAGA,IAAApB,GAAAsM,EAAAlL,GAAApB,SACAwM,EAAAF,EAAAlL,GAAAoL,IAEAjB,GAAAJ,UAAA,aAEA,IAAAwB,GAAA,GAAAP,GAAAb,EAAAqB,SAAA,GAAA5M,EAAA8F,EAUA,OATA0G,GAAAG,EAAApB,GAEAA,EAAA1B,UAAAG,IAAA,eACAuB,EAAA1B,UAAAG,IAAA,mBAEAlE,EAAAuG,OAAAQ,QACAtB,EAAAoB,UAAAA,GAGAA,GAGA7G,EAAA0F,QAAA,SAAAf,GAEA,GAAAqC,GAAArC,EAAAa,iBAAA,4BACA,OAAA9E,GAAAQ,IAAA8F,EAAA,SAAAvB,GACA,MAAAzF,GAAA0G,KAAAjB;ANpDA;AACA,ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9FA,AD+FA;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3DA,AD4DA;AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["(function defineMustache(global,factory){if(typeof exports===\"object\"&&exports&&typeof exports.nodeName!==\"string\"){factory(exports)}else if(typeof define===\"function\"&&define.amd){define('mustache',[\"exports\"],factory)}else{global.Mustache={};factory(Mustache)}})(this,function mustacheFactory(mustache){var objectToString=Object.prototype.toString;var isArray=Array.isArray||function isArrayPolyfill(object){return objectToString.call(object)===\"[object Array]\"};function isFunction(object){return typeof object===\"function\"}function typeStr(obj){return isArray(obj)?\"array\":typeof obj}function escapeRegExp(string){return string.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g,\"\\\\$&\")}function hasProperty(obj,propName){return obj!=null&&typeof obj===\"object\"&&propName in obj}var regExpTest=RegExp.prototype.test;function testRegExp(re,string){return regExpTest.call(re,string)}var nonSpaceRe=/\\S/;function isWhitespace(string){return!testRegExp(nonSpaceRe,string)}var entityMap={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\",\"/\":\"&#x2F;\"};function escapeHtml(string){return String(string).replace(/[&<>\"'\\/]/g,function fromEntityMap(s){return entityMap[s]})}var whiteRe=/\\s*/;var spaceRe=/\\s+/;var equalsRe=/\\s*=/;var curlyRe=/\\s*\\}/;var tagRe=/#|\\^|\\/|>|\\{|&|=|!/;function parseTemplate(template,tags){if(!template)return[];var sections=[];var tokens=[];var spaces=[];var hasTag=false;var nonSpace=false;function stripSpace(){if(hasTag&&!nonSpace){while(spaces.length)delete tokens[spaces.pop()]}else{spaces=[]}hasTag=false;nonSpace=false}var openingTagRe,closingTagRe,closingCurlyRe;function compileTags(tagsToCompile){if(typeof tagsToCompile===\"string\")tagsToCompile=tagsToCompile.split(spaceRe,2);if(!isArray(tagsToCompile)||tagsToCompile.length!==2)throw new Error(\"Invalid tags: \"+tagsToCompile);openingTagRe=new RegExp(escapeRegExp(tagsToCompile[0])+\"\\\\s*\");closingTagRe=new RegExp(\"\\\\s*\"+escapeRegExp(tagsToCompile[1]));closingCurlyRe=new RegExp(\"\\\\s*\"+escapeRegExp(\"}\"+tagsToCompile[1]))}compileTags(tags||mustache.tags);var scanner=new Scanner(template);var start,type,value,chr,token,openSection;while(!scanner.eos()){start=scanner.pos;value=scanner.scanUntil(openingTagRe);if(value){for(var i=0,valueLength=value.length;i<valueLength;++i){chr=value.charAt(i);if(isWhitespace(chr)){spaces.push(tokens.length)}else{nonSpace=true}tokens.push([\"text\",chr,start,start+1]);start+=1;if(chr===\"\\n\")stripSpace()}}if(!scanner.scan(openingTagRe))break;hasTag=true;type=scanner.scan(tagRe)||\"name\";scanner.scan(whiteRe);if(type===\"=\"){value=scanner.scanUntil(equalsRe);scanner.scan(equalsRe);scanner.scanUntil(closingTagRe)}else if(type===\"{\"){value=scanner.scanUntil(closingCurlyRe);scanner.scan(curlyRe);scanner.scanUntil(closingTagRe);type=\"&\"}else{value=scanner.scanUntil(closingTagRe)}if(!scanner.scan(closingTagRe))throw new Error(\"Unclosed tag at \"+scanner.pos);token=[type,value,start,scanner.pos];tokens.push(token);if(type===\"#\"||type===\"^\"){sections.push(token)}else if(type===\"/\"){openSection=sections.pop();if(!openSection)throw new Error('Unopened section \"'+value+'\" at '+start);if(openSection[1]!==value)throw new Error('Unclosed section \"'+openSection[1]+'\" at '+start)}else if(type===\"name\"||type===\"{\"||type===\"&\"){nonSpace=true}else if(type===\"=\"){compileTags(value)}}openSection=sections.pop();if(openSection)throw new Error('Unclosed section \"'+openSection[1]+'\" at '+scanner.pos);return nestTokens(squashTokens(tokens))}function squashTokens(tokens){var squashedTokens=[];var token,lastToken;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];if(token){if(token[0]===\"text\"&&lastToken&&lastToken[0]===\"text\"){lastToken[1]+=token[1];lastToken[3]=token[3]}else{squashedTokens.push(token);lastToken=token}}}return squashedTokens}function nestTokens(tokens){var nestedTokens=[];var collector=nestedTokens;var sections=[];var token,section;for(var i=0,numTokens=tokens.length;i<numTokens;++i){token=tokens[i];switch(token[0]){case\"#\":case\"^\":collector.push(token);sections.push(token);collector=token[4]=[];break;case\"/\":section=sections.pop();section[5]=token[2];collector=sections.length>0?sections[sections.length-1][4]:nestedTokens;break;default:collector.push(token)}}return nestedTokens}function Scanner(string){this.string=string;this.tail=string;this.pos=0}Scanner.prototype.eos=function eos(){return this.tail===\"\"};Scanner.prototype.scan=function scan(re){var match=this.tail.match(re);if(!match||match.index!==0)return\"\";var string=match[0];this.tail=this.tail.substring(string.length);this.pos+=string.length;return string};Scanner.prototype.scanUntil=function scanUntil(re){var index=this.tail.search(re),match;switch(index){case-1:match=this.tail;this.tail=\"\";break;case 0:match=\"\";break;default:match=this.tail.substring(0,index);this.tail=this.tail.substring(index)}this.pos+=match.length;return match};function Context(view,parentContext){this.view=view;this.cache={\".\":this.view};this.parent=parentContext}Context.prototype.push=function push(view){return new Context(view,this)};Context.prototype.lookup=function lookup(name){var cache=this.cache;var value;if(cache.hasOwnProperty(name)){value=cache[name]}else{var context=this,names,index,lookupHit=false;while(context){if(name.indexOf(\".\")>0){value=context.view;names=name.split(\".\");index=0;while(value!=null&&index<names.length){if(index===names.length-1)lookupHit=hasProperty(value,names[index]);value=value[names[index++]]}}else{value=context.view[name];lookupHit=hasProperty(context.view,name)}if(lookupHit)break;context=context.parent}cache[name]=value}if(isFunction(value))value=value.call(this.view);return value};function Writer(){this.cache={}}Writer.prototype.clearCache=function clearCache(){this.cache={}};Writer.prototype.parse=function parse(template,tags){var cache=this.cache;var tokens=cache[template];if(tokens==null)tokens=cache[template]=parseTemplate(template,tags);return tokens};Writer.prototype.render=function render(template,view,partials){var tokens=this.parse(template);var context=view instanceof Context?view:new Context(view);return this.renderTokens(tokens,context,partials,template)};Writer.prototype.renderTokens=function renderTokens(tokens,context,partials,originalTemplate){var buffer=\"\";var token,symbol,value;for(var i=0,numTokens=tokens.length;i<numTokens;++i){value=undefined;token=tokens[i];symbol=token[0];if(symbol===\"#\")value=this.renderSection(token,context,partials,originalTemplate);else if(symbol===\"^\")value=this.renderInverted(token,context,partials,originalTemplate);else if(symbol===\">\")value=this.renderPartial(token,context,partials,originalTemplate);else if(symbol===\"&\")value=this.unescapedValue(token,context);else if(symbol===\"name\")value=this.escapedValue(token,context);else if(symbol===\"text\")value=this.rawValue(token);if(value!==undefined)buffer+=value}return buffer};Writer.prototype.renderSection=function renderSection(token,context,partials,originalTemplate){var self=this;var buffer=\"\";var value=context.lookup(token[1]);function subRender(template){return self.render(template,context,partials)}if(!value)return;if(isArray(value)){for(var j=0,valueLength=value.length;j<valueLength;++j){buffer+=this.renderTokens(token[4],context.push(value[j]),partials,originalTemplate)}}else if(typeof value===\"object\"||typeof value===\"string\"||typeof value===\"number\"){buffer+=this.renderTokens(token[4],context.push(value),partials,originalTemplate)}else if(isFunction(value)){if(typeof originalTemplate!==\"string\")throw new Error(\"Cannot use higher-order sections without the original template\");value=value.call(context.view,originalTemplate.slice(token[3],token[5]),subRender);if(value!=null)buffer+=value}else{buffer+=this.renderTokens(token[4],context,partials,originalTemplate)}return buffer};Writer.prototype.renderInverted=function renderInverted(token,context,partials,originalTemplate){var value=context.lookup(token[1]);if(!value||isArray(value)&&value.length===0)return this.renderTokens(token[4],context,partials,originalTemplate)};Writer.prototype.renderPartial=function renderPartial(token,context,partials){if(!partials)return;var value=isFunction(partials)?partials(token[1]):partials[token[1]];if(value!=null)return this.renderTokens(this.parse(value),context,partials,value)};Writer.prototype.unescapedValue=function unescapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return value};Writer.prototype.escapedValue=function escapedValue(token,context){var value=context.lookup(token[1]);if(value!=null)return mustache.escape(value)};Writer.prototype.rawValue=function rawValue(token){return token[1]};mustache.name=\"mustache.js\";mustache.version=\"2.1.3\";mustache.tags=[\"{{\",\"}}\"];var defaultWriter=new Writer;mustache.clearCache=function clearCache(){return defaultWriter.clearCache()};mustache.parse=function parse(template,tags){return defaultWriter.parse(template,tags)};mustache.render=function render(template,view,partials){if(typeof template!==\"string\"){throw new TypeError('Invalid template! Template should be a \"string\" '+'but \"'+typeStr(template)+'\" was given as the first '+\"argument for mustache#render(template, view, partials)\")}return defaultWriter.render(template,view,partials)};mustache.to_html=function to_html(template,view,partials,send){var result=mustache.render(template,view,partials);if(isFunction(send)){send(result)}else{return result}};mustache.escape=escapeHtml;mustache.Scanner=Scanner;mustache.Context=Context;mustache.Writer=Writer});\n\n","/**\n * Minimal implementation of an underscore/lodash subset.\n */\ndefine('js-helpers',[],function() {\n    \"use strict\";\n\n    var _ = {};\n\n    _.once = function(fn) {\n        var result;\n        var called = false;\n\n        return function() {\n            if (!called) {\n                result = fn.apply(this, arguments);\n                called = true;\n            }\n            return result;\n        };\n    };\n\n    _.indexOf = function(array, value) {\n        if ('indexOf' in array) {\n            return array.indexOf(value);\n        }\n\n        for (var i = 0; i < array.length; i++) {\n            if (array[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    };\n\n    _.forEach = function(array, fn) {\n        if ('forEach' in array) {\n            return array.forEach(fn);\n        }\n\n        for (var i = 0; i < array.length; i++) {\n            fn(array[i]);\n        }\n    };\n\n    _.map = function(array, fn) {\n        if ('map' in array) {\n            return array.map(fn);\n        }\n\n        var results = [];\n        for (var i = 0; i < array.length; i++) {\n            results.push(fn(array[i]));\n        }\n        return results;\n    };\n\n    _.filter = function(array, fn) {\n        if ('filter' in array) {\n            return array.filter(fn);\n        }\n\n        var results = [];\n        for (var i = 0; i < array.length; i++) {\n            if (fn(array[i])) {\n                return results.push(array[i]);\n            }\n        }\n        return results;\n    };\n\n    _.union = function(arrays) {\n        var results = [];\n        for (var i = 0; i < arrays.length; i++) {\n            for (var j = 0; j < arrays[i].length; j++) {\n                if (_.indexOf(results, arrays[i][j]) === -1) {\n                    results.push(arrays[i][j]);\n                }\n            }\n        }\n        return results;\n    };\n\n    _.difference = function(a, b) {\n        var results = [];\n        for (var i = 0; i < a.length; i++) {\n            if (_.indexOf(b, a[i]) === -1) {\n                results.push(a[i]);\n            }\n        }\n        return results;\n    };\n\n    return _;\n});\n\n","define('dom-helpers',['js-helpers'], function(_) {\n    \"use strict\";\n\n    return {\n        ready: function(fn) {\n            var _fn = _.once(fn);\n            if (document.readyState === \"complete\") {\n                _fn();\n            } else {\n                document.addEventListener(\"DOMContentLoaded\", _fn);\n                window.addEventListener(\"load\", _fn);\n            }\n        },\n        getRadio: function(options) {\n            for (var i = 0; i < options.length; i++) {\n                if (options[i].checked) {\n                    return options[i].value;\n                }\n            }\n        },\n        setRadio: function(options, value) {\n            for (var i = 0; i < options.length; i++) {\n                if (options[i].value === value) {\n                    options[i].checked = true;\n                    return;\n                } else {\n                    options[i].checked = false;\n                }\n            }\n        }\n    };\n});\n\n","define('evmgr',[], function() {\n    \"use strict\";\n\n    /**\n     * Generic event handler with on, off and trigger.\n     */\n    return function() {\n        var self = this;\n\n        var handlers = {};\n        var nextID = 0;\n\n        var getNextID = function() {\n            return nextID++;\n        }\n\n        self.on = function(eventName, handler) {\n            handlers[eventName] = handlers[eventName] || {};\n            var id = getNextID();\n            handlers[eventName][id] = handler;\n\n            return function() {\n                self.off(eventName, id);\n            };\n        }\n\n        self.off = function(eventName, id) {\n            if (eventName === void 0) {\n                handlers = {};\n            } else if (id === void 0) {\n                delete handlers[eventName];\n            } else {\n                delete handlers[eventName][id];\n            }\n        }\n\n        self.trigger = function(eventName, arg) {\n            for (var id in handlers[eventName]) {\n                if (handlers[eventName].hasOwnProperty(id)) {\n                    var handler = handlers[eventName][id];\n                    handler(arg);\n                }\n            }\n        }\n    }\n});\n\n","define('updateDOM',['js-helpers'], function(_) {\n    \"use strict\";\n\n    var updateAttributes = function(target, source) {\n        var targetAttrNames = _.map(target.attributes, function(item) {\n            return item.name;\n        });\n        var sourceAttrNames = _.map(source.attributes, function(item) {\n            return item.name;\n        });\n\n        _.forEach(targetAttrNames, function(name) {\n            if (!source.hasAttribute(name)) {\n                target.removeAttribute(name);\n            }\n        });\n        _.forEach(sourceAttrNames, function(name) {\n            target.setAttribute(name, source.getAttribute(name));\n        });\n    };\n\n    /**\n     * Recreate DOM `source` in `target` by making only small adjustments.\n     */\n    var updateDOM = function(target, source) {\n        var nt = target.childNodes.length;\n        var ns = source.childNodes.length;\n\n        if (target.nodeType === source.nodeType && target.nodeName === source.nodeName) {\n            if (target.nodeType === 1) {\n                var muuClasses = _.filter(target.classList, function(cls) {\n                    return cls.startsWith('muu-');\n                });\n                updateAttributes(target, source);\n                _.forEach(muuClasses, function(cls) {\n                    target.classList.add(cls);\n                });\n            } else if (target.nodeType === 3) {\n                target.nodeValue = source.nodeValue;\n            }\n\n            if (target.nodeType !== 1 || !target.classList.contains('muu-isolate')) {\n                for (var i = 0; i < nt && i < ns; i++) {\n                    updateDOM(target.childNodes[i], source.childNodes[i]);\n                }\n                for (var i = ns; i < nt; i++) {\n                    target.removeChild(target.childNodes[ns]);\n                }\n                for (var i = nt; i < ns; i++) {\n                    target.appendChild(source.childNodes[nt]);\n                }\n            }\n        } else {\n            target.parentNode.replaceChild(source, target);\n        }\n    };\n\n    return updateDOM;\n});\n\n","define('directive',['mustache', 'dom-helpers', 'js-helpers', 'evmgr', 'updateDOM'], function(Mustache, $, _, EvMgr, updateDOM) {\n    \"use strict\";\n\n    return function(root, template, registry) {\n        var self = this;\n        var evmgr = new EvMgr();\n\n        var eventCallback = function(event) {\n            var attrName = 'data-on' + event.type;\n            if (event.target.hasAttribute(attrName)) {\n                var eventName = event.target.getAttribute(attrName);\n                evmgr.trigger(eventName, event);\n            }\n        };\n\n        self.update = function(data) {\n            var tmp = document.createElement('div');\n            tmp.innerHTML = Mustache.render(template, data);\n\n            updateDOM(root, tmp);\n\n            _.forEach(['keydown', 'keyup', 'click', 'change', 'search'], function(eventType) {\n                var selector = '[data-on' + eventType + ']';\n                _.forEach(self.querySelectorAll(selector), function(element) {\n                    element.addEventListener(eventType, eventCallback);\n                });\n            });\n\n            registry.linkAll(self);\n        };\n\n        self.querySelectorAll = function(selector) {\n            var hits = root.querySelectorAll(selector);\n\n            // NOTE: querySelectorAll returns all elements in the tree that\n            // match the given selector.  findAll does the same with *relative\n            // selectors* but does not seem to be available yet.\n            var isolations = root.querySelectorAll('.muu-isolate');\n            var isolated = _.union(_.map(isolations, function(isolation) {\n                return isolation.querySelectorAll(selector);\n            }));\n\n            return _.difference(hits, isolated);\n        };\n\n        self.querySelector = function(selector) {\n            var all = self.querySelectorAll(selector);\n            if (all.length > 0) {\n                return all[0]\n            }\n        };\n\n        self.getModel = function(name, _default) {\n            if (name === void 0) {\n                var model = {};\n                _.forEach(self.querySelectorAll('[name]'), function(element) {\n                    model[element.name] = self.getModel(element.name);\n                });\n                return model;\n            } else {\n                var element = self.querySelector('[name=' + name + ']');\n                if (element.type === 'checkbox') {\n                    return element.checked;\n                } else if (element.type === 'radio') {\n                    var options = self.querySelectorAll('[name=' + name + ']');\n                    return $.getRadio(options) || _default;\n                } else {\n                    return element.value || _default;\n                }\n            }\n        };\n\n        self.setModel = function(name, value) {\n            var element = self.querySelector('[name=' + name + ']');\n            if (element.type === 'checkbox') {\n                element.checked = value;\n            } else if (element.type === 'radio') {\n                var options = self.querySelectorAll('[name=' + name + ']');\n                $.setRadio(options, value);\n            } else {\n                element.value = value;\n            }\n        };\n\n        self.on = function(eventName, callback) {\n            return evmgr.on(eventName, callback);\n        };\n    };\n});\n\n","define('muu',['directive', 'js-helpers'], function(Directive, _) {\n    \"use strict\";\n\n    return function(config) {\n        var self = this;\n        var directives = {};\n\n        self.config = config || {};\n\n        self.registerDirective = function(type, template, link) {\n            directives[type] = {\n                template: template,\n                link: link\n            };\n            return self;\n        };\n\n        self.registerModule = function(module) {\n            module(self);\n            return self;\n        };\n\n        self.link = function(element, type) {\n            if (type === void 0) {\n                type = element.getAttribute('type');\n            }\n\n            if (!directives.hasOwnProperty(type)) {\n                throw new Error('Unknown directive type: ' + type);\n            }\n\n            var template = directives[type].template;\n            var link = directives[type].link;\n\n            element.innerHTML = '<div></div>';\n\n            var directive = new Directive(element.children[0], template, self);\n            link(directive, element);\n\n            element.classList.add('muu-isolate');\n            element.classList.add('muu-initialised');\n\n            if (self.config.debug) {\n                element.directive = directive;\n            }\n\n            return directive;\n        };\n\n        self.linkAll = function(root) {\n            // NOTE: root may be a DOM Node or a directive\n            var elements = root.querySelectorAll('muu:not(.muu-initialised)');\n            return _.map(elements, function(element) {\n                return self.link(element);\n            });\n        };\n    };\n});\n\n"]}